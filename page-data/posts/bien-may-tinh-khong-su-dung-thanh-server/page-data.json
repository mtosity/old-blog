{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/bien-may-tinh-khong-su-dung-thanh-server","result":{"data":{"markdownRemark":{"id":"d538e982-387e-5eff-bae6-3293caea7221","html":"<h2 id=\"overview\" style=\"position:relative;\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h2>\n<p>Mình có một chiếc laptop hư cổng USB, chay bin và CPU i3 chạy max chậm với win 10 :&#x3C;&#x3C; nên quyết định build server để host website, API và chạy Machine Learning. Một số chữ mình để link đó là phần mình tham khảo, nếu stuck thì có thể click vào xem chi tiết hơn.</p>\n<h2 id=\"cài-đặt-linux\" style=\"position:relative;\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-linux\" aria-label=\"cài đặt linux permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cài đặt linux</h2>\n<p>Mình sử dụng <a href=\"https://ubuntu.com/download/server\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ubuntu Server 20.04.1 LTS</a>. Cài đặt khá đơn giản, như cài win bình thường thôi, những lưu ý khi cài:</p>\n<ul>\n<li>Phải cắm mạng lan khi cài đặt vì Ubuntu sẽ tải và cài drivers sau khi cài OS</li>\n<li>Tích vào ô <code class=\"language-text\">Install Open SSH</code>, <a href=\"https://en.wikipedia.org/wiki/Secure_Shell\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SSH</a> đơn giản là truy cập terminal của server từ một máy khác, <code class=\"language-text\">Import SSH identity</code> thì để <code class=\"language-text\">No</code>, mình sẽ import sau</li>\n<li>Ở Mirror address thì chuyển từ <code class=\"language-text\">http://us.archive...</code> thành <code class=\"language-text\">vn.archive</code> thì sẽ nhanh hơn</li>\n<li>Chọn những soft mà bạn sử dụng khi ở <code class=\"language-text\">Featured Server Snaps</code>, mình chọn <code class=\"language-text\">docker, postgresql10, heroku</code></li>\n</ul>\n<p>Sau khi cài và <code class=\"language-text\">Reboot</code> thì Ubuntu sẽ cài Soft, sau khi xong thì đăng nhập bằng username, password lúc cài thì sẽ thấy màn hình terminal thế này:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 798px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02237afdab8b0214a247016732082277/898f6/log-into-new-ubuntu-20.04-server.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAABG0lEQVQoz32SWW6EQAxEO+z7DkIIgcT9D5mHK5OMRh3qw3Ib21W2cWVZ5nleFAVOVVV1XeNkWRaGoXvDlw/uPM91Xbuua5qmbdvOEMdxFEVJksgB/uK+71tDaYBcPuSSkxv8xfBc1zUMAyTbtqFi3/fNgJYgCJ5k054kGHAYWGNjNYXid56v/mae51kzp2mKWkSO40iQsthAi8DwWTxN03EcyKZeGwJwqqOYAR2Jf/DfCyMPKlIHw7IsBB9G/Sumn9SmL2SGn8+PLRxU0EKFo7PhYOFXhLl4ek/tSOKzBJOqJ4NwM1aoazMw6/AUk6dKMlgPsrFcC6riBS6H9WxbhPDo34SZVBFqeJrq+J5itP3+2FiSdJL3Pf23tm8yIxtz1B7sPwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/02237afdab8b0214a247016732082277/8ac56/log-into-new-ubuntu-20.04-server.webp 240w,\n/static/02237afdab8b0214a247016732082277/d3be9/log-into-new-ubuntu-20.04-server.webp 480w,\n/static/02237afdab8b0214a247016732082277/ce206/log-into-new-ubuntu-20.04-server.webp 798w\"\n          sizes=\"(max-width: 798px) 100vw, 798px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/02237afdab8b0214a247016732082277/8ff5a/log-into-new-ubuntu-20.04-server.png 240w,\n/static/02237afdab8b0214a247016732082277/e85cb/log-into-new-ubuntu-20.04-server.png 480w,\n/static/02237afdab8b0214a247016732082277/898f6/log-into-new-ubuntu-20.04-server.png 798w\"\n          sizes=\"(max-width: 798px) 100vw, 798px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/02237afdab8b0214a247016732082277/898f6/log-into-new-ubuntu-20.04-server.png\"\n          alt=\"ubuntu server terminal\"\n          title=\"ubuntu server terminal\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Tất nhiên server chỉ có terminal thôi nhá! Không có GUI gì đâu 😆 </p>\n<h2 id=\"set-up-ban-đầu\" style=\"position:relative;\"><a href=\"#set-up-ban-%C4%91%E1%BA%A7u\" aria-label=\"set up ban đầu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set up ban đầu</h2>\n<ol>\n<li><strong>Update Ubuntu</strong></li>\n</ol>\n<p>Như bao Ubuntu khác 😆 </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get update\nsudo apt-get upgrade</code></pre></div>\n<ol start=\"2\">\n<li><strong>Ngăn OS ngủ khi đóng màn hình laptop</strong></li>\n</ol>\n<p><code class=\"language-text\">sudo nano /etc/systemd/logind.conf</code></p>\n<p>Vì chỉ toàn là terminal nên chỉ edit file bằng nano và vim, vim pro quá nên xài nano vậy :>. <a href=\"https://quantrimang.com/huong-dan-co-ban-ve-trinh-soan-thao-nano-167743\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hướng dẫn sử dụng nano</a>, cơ bản là <code class=\"language-text\">CRT + O</code> rồi <code class=\"language-text\">Enter</code> để save, <code class=\"language-text\">CRT + X</code> để thoát.</p>\n<p>Sửa <code class=\"language-text\">#HandleLidSwitch=suspend</code> thành <code class=\"language-text\">HandleLidSwitch=ignore</code>, save file rồi gõ vào terminal <code class=\"language-text\">sudo systemctl restart systemd-logind</code> để load lại file <code class=\"language-text\">logind.conf</code></p>\n<ol start=\"3\">\n<li><strong>Tìm private IP, public IP và Port Forwarding</strong></li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c0ce9afbe77d6ff65796cfea79ba6ce/30d16/forwarding.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVQoz5VRW07CQBSdFegKXIiJi3EjbkJjRDARgvhoEDWixVhNlICC01YLFGpApKUFwkMolnRoO3WgiUGNH9yPk/s698ydC9x5DOMJcpXaxu0TmxcBxtjBE5vpwP+R7UkJ+4T6YlTbOmPAn9nYQ89BCI1GhmF8jhHyMsR5hNzmQYyKnQKEzP6gb5rmN5kQbNv2QkF44XmuWBJ1XSdhd9Bt93pdTZEy99VKGYSvkksndX9eJTVzPFZVVdM0WZaJHJkSv4jTiQTDMBDCdqdTb8kuMnYLjRVauc7wwLdHrYaZ4xTsNBuKohTFgiiKLAsJX5Kko2jUH9nfDoUDgR3I8f1mA8ulIJSWg+lQLA5yL8986k6Ta2Qhy7LI84bDIUHHcdxphqzgbTvQ9Y/3V9saV0Uhe049pJJgrlON5LKLRulaa+0ml80VAVHAP0/16/NnzZl2rcO3hUjZF6PnU3Yx0XI4Fh5S1CVNfwF7hySKRociXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/1c0ce9afbe77d6ff65796cfea79ba6ce/8ac56/forwarding.webp 240w,\n/static/1c0ce9afbe77d6ff65796cfea79ba6ce/d3be9/forwarding.webp 480w,\n/static/1c0ce9afbe77d6ff65796cfea79ba6ce/0fa99/forwarding.webp 672w\"\n          sizes=\"(max-width: 672px) 100vw, 672px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/1c0ce9afbe77d6ff65796cfea79ba6ce/8ff5a/forwarding.png 240w,\n/static/1c0ce9afbe77d6ff65796cfea79ba6ce/e85cb/forwarding.png 480w,\n/static/1c0ce9afbe77d6ff65796cfea79ba6ce/30d16/forwarding.png 672w\"\n          sizes=\"(max-width: 672px) 100vw, 672px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/1c0ce9afbe77d6ff65796cfea79ba6ce/30d16/forwarding.png\"\n          alt=\"router\"\n          title=\"router\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p><strong>Private IP</strong> là IP nội bộ của máy server bên trong Router, có thể truy cập server bằng IP này từ máy cùng router nhưng ngoài Router không thể kết nối vào (trên hình IP server là 192.168.1.100).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">minhtamos@minhtamos:~$ ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: enp9s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\n    link/ether e0:db:55:af:8b:ff brd ff:ff:ff:ff:ff:ff\n    inet 192.168.1.12/24 brd 192.168.1.255 scope global dynamic enp9s0\n       valid_lft 84703sec preferred_lft 84703sec\n    inet6 2001:ee0:5534:3ab0:e2db:55ff:feaf:8bff/64 scope global dynamic mngtmpaddr noprefixroute\n       valid_lft 1143sec preferred_lft 1143sec\n    inet6 fe80::e2db:55ff:feaf:8bff/64 scope link\n       valid_lft forever preferred_lft forever\n3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default\n    link/ether 02:42:bb:ba:98:42 brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0\n       valid_lft forever preferred_lft forever</code></pre></div>\n<p>Khi chạy lệnh <code class=\"language-text\">ip a</code> thì có thể thấy private IP của mình là <code class=\"language-text\">192.168.1.12</code> (Mạng lan thì để ý enXXXX)</p>\n<p><strong>Public IP</strong> có thể coi là IP của Router, dùng để kết nối ngoài Router, nhưng cần phải cài đặt <a href=\"https://www.youtube.com/watch?v=2G1ueMDgwxw\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Port Fowarding</a> để bên ngoài có thể truy cập.\nMặc định khi gõ IP hay domain vào trình duyệt, thì sẽ truy cập vào port Web HTTP là 80 của server. Nên khi đó có request từ bên ngoài đến Router, Router phải mở port 80 và đưa request cho đúng máy server private IP, của mình là <code class=\"language-text\">192.168.1.12:80</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">minhtamos@minhtamos:~$ curl https://ipinfo.io/ip\n14.237.192.124</code></pre></div>\n<p>Khi chạy lệnh <code class=\"language-text\">curl https://ipinfo.io/ip</code> thì có thể thấy public IP của mình là 14.237.192.124</p>\n<p><strong>Port Fowarding</strong></p>\n<p>Để cài đặt cho Router, vào IP private của Router thường là <code class=\"language-text\">192.168.1.1</code>, đăng nhập và đi đến <code class=\"language-text\">Advanced Features =&gt; NAT =&gt; ADD và điền như bên dưới</code>, mình sài VNPT.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/159025301d18b4aa9fa9d327d0fc02bd/ecfa6/screen-shot-2020-09-08-at-21.10.48.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABNUlEQVQoz6WQQUvDQBCF81c8ePCgF0+KevcneRZRoUWxpVJrYhtB8UdI0YM9VPRQs2nQhLTd1ISsjU0wUEzybFeaQ62oOPDYmWH5ePOEonSKQlFC5uAIG1s55A6PUa7IkE4qXyRK5VTT9mfnFxDE6iM2L21U9TfYrI/3BP8qYWW/jrlsA/krE46pgahNEEJAKYXrumCMgQ3fUR8EQSrf97k+Zz/dC2vZOyxu30KudRG+MnSohZ7nYTAYIAxDxHH8N4dLQ+D8zj1K1ybs1hMU0oSiKFBVFZqmwbIs/jFJkl9JWC0QzGYUiDWKgD2j3aH8ZMMwOGx08iRwPE91uF5SsbBHIN5Q+G4XrXaHO9R1Pc1xsr6DceBy/gEzuw3IdRtx2If70oPjONyZN8xyFPQYEkXRjw4/APErQp0j02ITAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/159025301d18b4aa9fa9d327d0fc02bd/8ac56/screen-shot-2020-09-08-at-21.10.48.webp 240w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/d3be9/screen-shot-2020-09-08-at-21.10.48.webp 480w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/e46b2/screen-shot-2020-09-08-at-21.10.48.webp 960w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/f992d/screen-shot-2020-09-08-at-21.10.48.webp 1440w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/26f49/screen-shot-2020-09-08-at-21.10.48.webp 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/159025301d18b4aa9fa9d327d0fc02bd/8ff5a/screen-shot-2020-09-08-at-21.10.48.png 240w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/e85cb/screen-shot-2020-09-08-at-21.10.48.png 480w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/d9199/screen-shot-2020-09-08-at-21.10.48.png 960w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/07a9c/screen-shot-2020-09-08-at-21.10.48.png 1440w,\n/static/159025301d18b4aa9fa9d327d0fc02bd/ecfa6/screen-shot-2020-09-08-at-21.10.48.png 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/159025301d18b4aa9fa9d327d0fc02bd/d9199/screen-shot-2020-09-08-at-21.10.48.png\"\n          alt=\"vnpt\"\n          title=\"vnpt\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Để biết cổng 80 HTTP đã mở chưa vào <a href=\"https://canyouseeme.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">canyouseeme</a> để check, nếu success là OK</p>\n<h2 id=\"host-nodejs\" style=\"position:relative;\"><a href=\"#host-nodejs\" aria-label=\"host nodejs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Host NodeJS</h2>\n<ul>\n<li><strong><a href=\"https://github.com/nodesource/distributions/blob/master/README.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cài đặt Node</a>:</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># As root\ncurl -sL https://rpm.nodesource.com/setup_lts.x | bash -\n\n# No root privileges \ncurl -sL https://rpm.nodesource.com/setup_lts.x | sudo bash -</code></pre></div>\n<ul>\n<li><strong>Tạo project Express</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mkdir exp_pro\nnpx express-generator\nnpm install\nnpm start</code></pre></div>\n<p>Nó sẽ start ở port 3000, ủa rồi sao thấy? HTTP là port 80 mà? </p>\n<p>Nếu có máy trong router thì có thể truy cập bằng private<em>server</em>ip:3000, ủa nhưng rồi ngoài router thì sao?</p>\n<p>Mình có nhiều cách, có thể cài đặt cho Router Port Fowarding vào private<em>server</em>ip:3000 nhưng mỗi lần vào trang web phải kiểu IP:3000 rất khó chịu. Muốn <em>chuyên nghiệp</em> hơn thì ta sẽ cài đặt <strong>Nginx</strong> để quản lý các request đến server</p>\n<ul>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cài đặt Nginx</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt update\nsudo apt install nginx\nsudo ufw allow &#39;Nginx HTTP&#39; </code></pre></div>\n<p>Dòng cuối là cho Nginx bypass firewall</p>\n<p>Tiếp theo chũng ta config nginx, gõ <code class=\"language-text\">sudo nano /etc/nginx/sites-available/default</code> và sửa thành như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n        server_name _;\n\n        location / {\n                proxy_pass http://localhost:3000;\n        }\n}</code></pre></div>\n<p>File này nói lên rằng: Với route root ”/”, trước khi nó đến port 80 (port của HTTP) thì sẽ proxy qua port 3000 trước (chính là Project Node của mình)</p>\n<p>Restart Nginx bằng câu lệnh <code class=\"language-text\">sudo service nginx restart</code>, vào project node lúc nãy và <code class=\"language-text\">npm start</code></p>\n<p>Vậy là OK rồi đó, gõ IP vào trình duyệt bạn sẽ thấy như thế này 🎉 🎉 🎉</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 912px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9ca2623f381eb33a75aefb8860e5988e/8b69f/screen-shot-2020-09-08-at-20.52.19.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAZ0lEQVQY06WOTQqAIBhEvWEa/UCLMivqxq515coTqFOfILRMGngMvMUwbN1PqAepDixyw7yozH5cGMYJDe8g2h5cfIPFGPFOCAHkSqeUqmA04pyDMQbee/wNo1VrLbTWuenZo6qfFW5lyxUzuhVwUwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/9ca2623f381eb33a75aefb8860e5988e/8ac56/screen-shot-2020-09-08-at-20.52.19.webp 240w,\n/static/9ca2623f381eb33a75aefb8860e5988e/d3be9/screen-shot-2020-09-08-at-20.52.19.webp 480w,\n/static/9ca2623f381eb33a75aefb8860e5988e/b116a/screen-shot-2020-09-08-at-20.52.19.webp 912w\"\n          sizes=\"(max-width: 912px) 100vw, 912px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/9ca2623f381eb33a75aefb8860e5988e/8ff5a/screen-shot-2020-09-08-at-20.52.19.png 240w,\n/static/9ca2623f381eb33a75aefb8860e5988e/e85cb/screen-shot-2020-09-08-at-20.52.19.png 480w,\n/static/9ca2623f381eb33a75aefb8860e5988e/8b69f/screen-shot-2020-09-08-at-20.52.19.png 912w\"\n          sizes=\"(max-width: 912px) 100vw, 912px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/9ca2623f381eb33a75aefb8860e5988e/8b69f/screen-shot-2020-09-08-at-20.52.19.png\"\n          alt=\"express\"\n          title=\"express\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<ul>\n<li>Process manager</li>\n</ul>\n<p><code class=\"language-text\">npm start</code> cũng được nhưng vậy thì bạn phải giữ shell đó không được tắt và nó cũng không được CPU quản lý tốt, nên chúng ta cần PM2 package</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install pm2 -g\ncd ~/trynode\npm2 start bin/www --name main #pm2 start file_name --name name</code></pre></div>\n<p>OK vậy Node server sẽ luôn chạy với tên là <code class=\"language-text\">main</code>, muốn list các Node server thì gõ <code class=\"language-text\">pm2 l</code>, có thể stop hay remove các Node server, <a href=\"https://pm2.keymetrics.io/docs/usage/quick-start/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PM2 docs</a></p>\n<h2 id=\"ssh\" style=\"position:relative;\"><a href=\"#ssh\" aria-label=\"ssh permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH</h2>\n<p>Tất nhiên bạn phải cần phải truy cập terminal của server từ một máy khác để copy project hay chạy script.\nĐầu tiên cần phải mở cổng 22 của Router</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5670277f0b6d9facbcff6eae4c4ae0f9/ecfa6/screen-shot-2020-09-08-at-21.17.59.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz5WSy0rDUBCGz4v4ACq6ceFKQTe+gq/jpisVBKmCeOnOB7E1uPKSYyQkzeWYpjFNpTEpuf/mYq0WJTrwMWc48DHMDHmQ++g89XEjWmhTA+44xiSyGdKsHrLdvMJ6k6LFGTA1CV1Vg84YTNOEMxzCcZwq5/i+/4nn+XjzvGn9kcnGEcXKAcUZ14Nr96DpDLqul59BECBJEkRRVFK86yCrDQ7LOxxabYZRLpQVtezOtm1YlgXXdfGfIGuHPOZ3eZx2GF77DF1FA8/zEEURqqqW0nKeWfYnyObxIxb2Kc6vnzF6MaBoOiilkCQJLJ9l0emscFL/2OHWiYDFXHjBTYWCIECW5W/Cr/GbrBQu7d1jrnGHy9tBcRgYByHCsKJYRBxXZ5Smab5Zr7bDd225Vf8ZKDddAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/5670277f0b6d9facbcff6eae4c4ae0f9/8ac56/screen-shot-2020-09-08-at-21.17.59.webp 240w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/d3be9/screen-shot-2020-09-08-at-21.17.59.webp 480w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/e46b2/screen-shot-2020-09-08-at-21.17.59.webp 960w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/f992d/screen-shot-2020-09-08-at-21.17.59.webp 1440w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/26f49/screen-shot-2020-09-08-at-21.17.59.webp 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/5670277f0b6d9facbcff6eae4c4ae0f9/8ff5a/screen-shot-2020-09-08-at-21.17.59.png 240w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/e85cb/screen-shot-2020-09-08-at-21.17.59.png 480w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/d9199/screen-shot-2020-09-08-at-21.17.59.png 960w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/07a9c/screen-shot-2020-09-08-at-21.17.59.png 1440w,\n/static/5670277f0b6d9facbcff6eae4c4ae0f9/ecfa6/screen-shot-2020-09-08-at-21.17.59.png 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/5670277f0b6d9facbcff6eae4c4ae0f9/d9199/screen-shot-2020-09-08-at-21.17.59.png\"\n          alt=\"ssh router\"\n          title=\"ssh router\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Để vào chỉ cần vào terminal gõ <code class=\"language-text\">ssh username@public_ip</code>, với username của server và public IP của server, điền password và bạn đã vào terminal của server. Cũng có thể gõ <code class=\"language-text\">ssh username@private_ip</code> nếu bạn đang ở bên trong Router cùng với server</p>\n<p>Bây giờ thì bạn có thể truy cập terminal của server từ bất kỳ đâu 🎉 🎉 🎉</p>\n<ul>\n<li><strong><a href=\"https://www.ssh.com/ssh/keygen/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Generate SSH</a> key để SSH không cần password</strong></li>\n</ul>\n<p>Ở terminal máy cần ssh vào server không cần pass, tạo một ssh-key cho máy của mình (coi như key đó là danh tính máy), gõ:</p>\n<p><code class=\"language-text\">ssh-keygen</code></p>\n<p>Ở chỗ passphrase, cứ để trống rồi enter, tránh hỏi password nữa khi ssh, nhớ copy đường dẫn tới ssh-key</p>\n<p><code class=\"language-text\">ssh-copy-id -i path_to_ssh_key user@host</code></p>\n<p>với path<em>to</em>ssh<em>key là đường dẫn tới ssh-key của máy mới vừa tạo, user là ussername của server và host là public</em>ip của server</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fd28dcbbd9120fa183965d7a29fd8520/10f9a/screen-shot-2020-09-08-at-21.16.34.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 105.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAADQElEQVQ4y2WUSXLbQAxFeYTEszUPpESRmufZGixHcqyK4nKVF1mlKpVFLpEb5MoIHiQyLmcBtbrZ+AA+fsP58fOX7L//kWDzW4LmSNo9tf5ERtOlWbs3kf5oLvVWX/JeKDepgqRynqTzJbWyJDOuJLOeZAq+fXM66tweLMQNelJt9qXZGUpY7yjQWPywJeWgKfX2QAEH4ldbknMrUgoaUqm17bxUadh5qzuSjAZwEhqh0x/LcDIXwLlMxNYJkIsNDUKmYaMrNc30KpET/M6u0mopsw8XCTm/Tovj+jXZfj7I7umrgXCYypVks32yAMv7rSzWW5kvH/T/TtYPn2W22EigVVzeZg3s4iZjQdg71O36dckWfQPKe4FxRWnZYsX+Y8VyTbxK3SqABr7BW7Fc1YpcS8QAAaGUctg07sJ61xwBwclTjgBxFbBQCuPV0yQK3nGFohgwq1FGs6XUtCGN9lCuk3nj40wvfLxMGulBrWNOZEMDqMruaLncicAo3SGzw/Or9IYz4wtOz0+c4NAZTLUx4xiQ+4lM0ZwBiSzaO3AFycPpwnQHEBGjla4iERzijE7O70ENsFCqysNub92bzNfGGyVFztVmzwDZ40Cgq0T2P6AYEPK7WlZT9bbaPNoKT7wMa5CSXtSgdJYGwh2BYrPAqXjvIAeAVpud6vGLgSPml9dvpj8C7J4Opsvp3b3pj4AYfJqUTo1DDQ4Eo0OkAOlo66ivmqAAOCbDnBvYPQAABeyoR99oKpjMfNWhdg+5UCIXAeIy0SLngncMFmXHO69U23YPmUXPD3P4oQlR+vYiNBPkQ9aIPlMo2zdAOCNbsqFZnL/ttsOGyGbKAxOEYRCJGEB7buFp6qgxtvAju+gNxzpkahCFyBnjLJCcveHgxF3FSCcA36gGRzQalXnxRpfOYHxnL4QuLtaf5HH/bHqkw0yXpXYfFewPL9ZlmnibLkrKhmo51m2cIZnAV9E/NiMinqxtYBiHvuQ1u2hooEe4RvQRBf+mTcaTZNqVdLYkt0kd77onOvwkbLy75kBgVsDJCkkdh+y7kmsLncTLsXQeV+IvVD6buYSzkYyna51CKyuLCugonEaZ0yjk9P7p/QWWWGmMwrC7YAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/fd28dcbbd9120fa183965d7a29fd8520/8ac56/screen-shot-2020-09-08-at-21.16.34.webp 240w,\n/static/fd28dcbbd9120fa183965d7a29fd8520/d3be9/screen-shot-2020-09-08-at-21.16.34.webp 480w,\n/static/fd28dcbbd9120fa183965d7a29fd8520/9cb26/screen-shot-2020-09-08-at-21.16.34.webp 539w\"\n          sizes=\"(max-width: 539px) 100vw, 539px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/fd28dcbbd9120fa183965d7a29fd8520/8ff5a/screen-shot-2020-09-08-at-21.16.34.png 240w,\n/static/fd28dcbbd9120fa183965d7a29fd8520/e85cb/screen-shot-2020-09-08-at-21.16.34.png 480w,\n/static/fd28dcbbd9120fa183965d7a29fd8520/10f9a/screen-shot-2020-09-08-at-21.16.34.png 539w\"\n          sizes=\"(max-width: 539px) 100vw, 539px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/fd28dcbbd9120fa183965d7a29fd8520/10f9a/screen-shot-2020-09-08-at-21.16.34.png\"\n          alt=\"minhtamos ssh\"\n          title=\"minhtamos ssh\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h2 id=\"tạo-domain-với-freenom\" style=\"position:relative;\"><a href=\"#t%E1%BA%A1o-domain-v%E1%BB%9Bi-freenom\" aria-label=\"tạo domain với freenom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tạo Domain với <a href=\"https://www.freenom.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">freenom</a></h2>\n<p>Để tạo domain và trỏ về server, vào <a href=\"https://www.freenom.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">freenom</a> tạo tài khoản đăng nhập. <code class=\"language-text\">Service =&gt; Register a New Domain =&gt; gõ domain bạn muốn</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9caee5a8c577ca510c0f25aa67c4deab/ecfa6/screen-shot-2020-09-08-at-21.47.39.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABrUlEQVQoz4WQzWoTURTH5w18C0FdWLvwIXwEX8CNuKwVBNe+gOKmQqkipYtqIxEXKja0gWpJYiDW2gwt084kmUnmzlfm687PO9Mm0oV44c85h3vP75z/1VYbPeq6oG3H7Fkh+8MprdGUrqo7Ks7UHkV07Cn7VkDDEDTNkN1Tn6bhsnMypqXunj5fQ1t89pXbb36xuK5z49UBNzcMlneH1I8mvOv71HSfLaXNI49aX/Ci63DldZ+Fty631k2urnS49rLD9bWf3Ln/BG1L9/hwmlA/DnivNq2fRHwyQnbMiOYgpmmpaE1pnIVsGz5flDYOPVZ6LVZ7P9SQgM1Dm49mwt17D9BAcvkU80wWBaksyC5ikKs7mVVvotQjl+GlnqWlZbQkzchVQ4n1w4iJK6o6k5Ikl8RKZT5OJN+dBGswQAi3ctFW/1bC4jSrgA8fPUbL83y+URRFuK57PlNBmUk1hVnBgUgZOw6B7/HNEvyenG+YZfm/gZ7nzYEzlUBfATuTFNseEfk+22ZK14n/DxRCVBCpbJbKlSgkbpKzpyyOBkOGjslnvYYxPrsA/rX8B2tzRw6Nn8AjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/9caee5a8c577ca510c0f25aa67c4deab/8ac56/screen-shot-2020-09-08-at-21.47.39.webp 240w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/d3be9/screen-shot-2020-09-08-at-21.47.39.webp 480w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/e46b2/screen-shot-2020-09-08-at-21.47.39.webp 960w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/f992d/screen-shot-2020-09-08-at-21.47.39.webp 1440w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/26f49/screen-shot-2020-09-08-at-21.47.39.webp 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/9caee5a8c577ca510c0f25aa67c4deab/8ff5a/screen-shot-2020-09-08-at-21.47.39.png 240w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/e85cb/screen-shot-2020-09-08-at-21.47.39.png 480w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/d9199/screen-shot-2020-09-08-at-21.47.39.png 960w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/07a9c/screen-shot-2020-09-08-at-21.47.39.png 1440w,\n/static/9caee5a8c577ca510c0f25aa67c4deab/ecfa6/screen-shot-2020-09-08-at-21.47.39.png 1819w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/9caee5a8c577ca510c0f25aa67c4deab/d9199/screen-shot-2020-09-08-at-21.47.39.png\"\n          alt=\"freenom domain\"\n          title=\"freenom domain\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Select rồi check out, chọn 12 months, chọn Use DNS rồi điền IP là public IP của bạn</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/53a07dfb852cd24cc0d214c5c8c2af19/cff1a/screen-shot-2020-09-08-at-21.49.16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABjElEQVQoz5WPvW7UQBSF/SL0PAJSQNSUvBUdFRskCgo6EiEgCSISYgWiogTCri2QNsk6JGhtr+3x/Nhjf1x7yWZT5kqffGbuPed6gvFc8Tuv+bW8IsyEZTMwFb3JJLUcLSrCxAxEco5S0fIN/xYE916dsnWQcXc/4c5ewoPDlJdRwU6YsRPl7B1b3h4b3sw0704tLyLFrd0Tbu+ecf8gZUt8g3c/5eH7C4LRpGI00WwLo6nhWaj5GFvGsWF8Zvn0p+bzuefLOaIdH+aWR98yHv8oeToVj/i3hSfif/5zScC6PL4qoDZUVcVFmpMXBVVRsihiZsl3nLFYo6GxYNQwe63kPmg76HF1Q5JmlKWi0ppSQvvANF0SL2Yczb+iK4M2BiX9LJeFMuvF7LuOVvL63voPvfcYszJoMfRaKTVQKYN33aqvDU3T4KzFW0PXtUI3ZJjNwLZtcc5dox9w1v1foLES0uumrlFyf5JLeNtdvVgWDYGXG25SqWt5HTtUs/L2EX3OOvCmbNbluX/lP7n8pMQwQ/tvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/53a07dfb852cd24cc0d214c5c8c2af19/8ac56/screen-shot-2020-09-08-at-21.49.16.webp 240w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/d3be9/screen-shot-2020-09-08-at-21.49.16.webp 480w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/e46b2/screen-shot-2020-09-08-at-21.49.16.webp 960w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/f992d/screen-shot-2020-09-08-at-21.49.16.webp 1440w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/bf2f4/screen-shot-2020-09-08-at-21.49.16.webp 1759w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/53a07dfb852cd24cc0d214c5c8c2af19/8ff5a/screen-shot-2020-09-08-at-21.49.16.png 240w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/e85cb/screen-shot-2020-09-08-at-21.49.16.png 480w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/d9199/screen-shot-2020-09-08-at-21.49.16.png 960w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/07a9c/screen-shot-2020-09-08-at-21.49.16.png 1440w,\n/static/53a07dfb852cd24cc0d214c5c8c2af19/cff1a/screen-shot-2020-09-08-at-21.49.16.png 1759w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/53a07dfb852cd24cc0d214c5c8c2af19/d9199/screen-shot-2020-09-08-at-21.49.16.png\"\n          alt=\"freenom ip\"\n          title=\"freenom ip\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Xong <strong>Continue</strong> và <strong>Complete Order</strong>, mình đợi khoảng 2 tiếng thì mình có thể truy cập được bằng domain <code class=\"language-text\">minhtamos.cf</code></p>\n<h2 id=\"jupyter-notebook\" style=\"position:relative;\"><a href=\"#jupyter-notebook\" aria-label=\"jupyter notebook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jupyter Notebook</h2>\n<p>Mình muốn server mình có thể chạy notebook để những lúc máy mình đang bận thì có thể chạy <em>Machine Learning</em> ở server để đỡ cho máy chính</p>\n<ul>\n<li><strong><a href=\"https://linuxize.com/post/how-to-install-anaconda-on-ubuntu-20-04/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cài đặt anaconda</a> và <a href=\"https://jupyter.org/install\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jupyter Notebook</a></strong></li>\n</ul>\n<p>Mặc định Ubuntu 20.04 đã có python rồi nên không cần cài, gõ các lệnh sau để cài đặt anaconda và jupyter notebook:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt install libgl1-mesa-glx libegl1-mesa libxrandr2 libxrandr2 libxss1 libxcursor1 libxcomposite1 libasound2 libxi6 libxtst6\nwget -P /tmp https://repo.anaconda.com/archive/Anaconda3-2020.02-Linux-x86_64.sh\nbash /tmp/Anaconda3-2020.02-Linux-x86_64.sh\n\nconda install -c conda-forge jupyterlab</code></pre></div>\n<p>Nhớ chọn yes hết nhá!</p>\n<ul>\n<li><strong>Try cập Jupyter Notebook từ xa</strong></li>\n</ul>\n<p>Vì Jupyter Notebook gặp một số <a href=\"https://github.com/jupyter/notebook/issues/625\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vấn đề</a> với SSL nên khó làm với Nginx. Nên mình sẽ tạo <a href=\"https://fizzylogic.nl/2017/11/06/edit-jupyter-notebooks-over-ssh/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SSH tunel</a> để truy cập notebooks bên server</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># ở phía server mở jupyter notebook với port 8080\njupyter notebook --no-browser --port=8080\n# mở ssh tunel ở máy muốn truy cập vào\nssh -N -L 8080:localhost:8080 &lt;remote_user&gt;@&lt;remote_host&gt;</code></pre></div>\n<p>Sau khi gõ lệnh mở ssh tunel thì nó không có output cứ như bị đơ nhưng không, nó đang mở đấy 😆 . Xong thì có thể truy cập notebook của server ở <code class=\"language-text\">http://localhost:8080</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b467cf3ff44749754c0670eb0b4c834/ab3e6/screen-shot-2020-09-08-at-22.45.21.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAuElEQVQoz62QUQuCMBSF9/8pkgolIuohCnrooR/Qv8mpoOiWK6futK2MjAyDDhy4927343DJcr3D9nDEarPHYOjAmXhwZwtMvXlvm53R2LU1wZ9F0ixDrRSKokAQhDjRAGEYwcw552DavMOMMcRxAt+nSJIEUsp7QqWBRudcIEqFmaCu66+uqsruGCil1PaGQxqY7nDVKfOLtIlVDxuVZQkhhE3XAj7Bj1r9AG3d8PWh69Mnve80vgGI0BD806FZqAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/0b467cf3ff44749754c0670eb0b4c834/8ac56/screen-shot-2020-09-08-at-22.45.21.webp 240w,\n/static/0b467cf3ff44749754c0670eb0b4c834/d3be9/screen-shot-2020-09-08-at-22.45.21.webp 480w,\n/static/0b467cf3ff44749754c0670eb0b4c834/e46b2/screen-shot-2020-09-08-at-22.45.21.webp 960w,\n/static/0b467cf3ff44749754c0670eb0b4c834/f992d/screen-shot-2020-09-08-at-22.45.21.webp 1440w,\n/static/0b467cf3ff44749754c0670eb0b4c834/a7296/screen-shot-2020-09-08-at-22.45.21.webp 1441w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/0b467cf3ff44749754c0670eb0b4c834/8ff5a/screen-shot-2020-09-08-at-22.45.21.png 240w,\n/static/0b467cf3ff44749754c0670eb0b4c834/e85cb/screen-shot-2020-09-08-at-22.45.21.png 480w,\n/static/0b467cf3ff44749754c0670eb0b4c834/d9199/screen-shot-2020-09-08-at-22.45.21.png 960w,\n/static/0b467cf3ff44749754c0670eb0b4c834/07a9c/screen-shot-2020-09-08-at-22.45.21.png 1440w,\n/static/0b467cf3ff44749754c0670eb0b4c834/ab3e6/screen-shot-2020-09-08-at-22.45.21.png 1441w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/0b467cf3ff44749754c0670eb0b4c834/d9199/screen-shot-2020-09-08-at-22.45.21.png\"\n          alt=\"screen shot 2020 09 08 at 22 45 21\"\n          title=\"screen shot 2020 09 08 at 22 45 21\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Đây là lúc mình để nó chạy SVM cho đồ án của mình </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b6f6531093a58b698700f2ae7149a4be/16068/screen-shot-2020-09-10-at-00.15.10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB3klEQVQ4y41TiW7TQBD1t4M4koYEKAERoBU/hVTHxLcT2+tjfSau7cfsNk1zuKIjPe2uPPv8ZuatcnP7G79ubrH48ROL7wvMZh/x9t0Ir16/wWQyxWg8wfvRFaazT5jPv+H6y9cLfL6eY3w1xuTDFAoGou87NLsdttstdrst+q7DS0MJwhAhIQgCJEmC5v4eURRBVZfQdR2WZSHwfcphMocFIXgcI8tyQiaR5zmKopB7RVyOKYExJj+IyPMMpmlgs/bhuq5MruuaUEnVtYA4V5Vcq/1aliUUQXZM2HU9wiTG2l+D7VWF+yo2mw3SOELFOSq6/PCTJ0jCc4U9KXRDB0xfgTsOTCpZXS4PKqQqung4/49QhBfZiFcaCirXMgxoqnroFyd1Ik8QnuNZwiDy4dsWQiLkVHLNM8RRLIcl2pCmKU1/h6ZpTiBUDhKuPQ+rlQ6d1HFS9dIQpIOEEZ39wAeLmCyzbVvyZi/RkScf98cQIVRfELZtj4Q8FiYZWEql8hRlVZJ1CGVxMYhjiD4OKkyoR9pfG6bhwbFtsJjJHqZZcjKER5ITHw4RijL/qHewiMxxXDK3JwdSVadqzsmfJeQZh6Yt4RgmLPKjY1qwCB4NSzxBn56iuCcgbHTsw3+l9htBmvWtMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/b6f6531093a58b698700f2ae7149a4be/8ac56/screen-shot-2020-09-10-at-00.15.10.webp 240w,\n/static/b6f6531093a58b698700f2ae7149a4be/d3be9/screen-shot-2020-09-10-at-00.15.10.webp 480w,\n/static/b6f6531093a58b698700f2ae7149a4be/e46b2/screen-shot-2020-09-10-at-00.15.10.webp 960w,\n/static/b6f6531093a58b698700f2ae7149a4be/f992d/screen-shot-2020-09-10-at-00.15.10.webp 1440w,\n/static/b6f6531093a58b698700f2ae7149a4be/5ae47/screen-shot-2020-09-10-at-00.15.10.webp 1451w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/b6f6531093a58b698700f2ae7149a4be/8ff5a/screen-shot-2020-09-10-at-00.15.10.png 240w,\n/static/b6f6531093a58b698700f2ae7149a4be/e85cb/screen-shot-2020-09-10-at-00.15.10.png 480w,\n/static/b6f6531093a58b698700f2ae7149a4be/d9199/screen-shot-2020-09-10-at-00.15.10.png 960w,\n/static/b6f6531093a58b698700f2ae7149a4be/07a9c/screen-shot-2020-09-10-at-00.15.10.png 1440w,\n/static/b6f6531093a58b698700f2ae7149a4be/16068/screen-shot-2020-09-10-at-00.15.10.png 1451w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/b6f6531093a58b698700f2ae7149a4be/d9199/screen-shot-2020-09-10-at-00.15.10.png\"\n          alt=\"screen shot 2020 09 10 at 00 15 10\"\n          title=\"screen shot 2020 09 10 at 00 15 10\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h2 id=\"bình-luận-về-bài-viết-nhóm-j2team\" style=\"position:relative;\"><a href=\"#b%C3%ACnh-lu%E1%BA%ADn-v%E1%BB%81-b%C3%A0i-vi%E1%BA%BFt-nh%C3%B3m-j2team\" aria-label=\"bình luận về bài viết nhóm j2team permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://www.facebook.com/groups/j2team.community/permalink/1372677533064363/?__cft__%5B0%5D=AZW8GBKl20-1FG-k-BkcCh5ei9vnQrhtMIK7EVdS0yPVTzH4AXKviCbolwH8GbCyUyIFCNJuul_yqY9ZtRSxIj-buOWZf41v9n157raLh0HJgWM6SdDu0OIqO0wzdZ4OQjHSbrvlr_l1ODp1bKgQMT-gHnUva1KA2rmFPExmOCNcmD8AlOmnBc9-ZRiazTCLcrs&#x26;__tn__=%2CO%2CP-R\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bình luận về bài viết (Nhóm J2team)</a></h2>","fields":{"slug":"/posts/bien-may-tinh-khong-su-dung-thanh-server","tagSlugs":["/tag/server/"]},"frontmatter":{"date":"2020-09-07T15:02:50.837Z","description":"Mình sẽ hướng dẫn tạo server từ máy tính không sử dụng, từ ssh, host website, trỏ domain cho đến jupyter notebook chạy Machine Learning","tags":["Server"],"title":"Biến máy tính không sử dụng thành server","socialImage":"/media/select-snaps-to-install.png"}}},"pageContext":{"slug":"/posts/bien-may-tinh-khong-su-dung-thanh-server"}},"staticQueryHashes":["251939775","3942705351","401334301"]}